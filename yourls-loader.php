<?php
// Handle inexistent root favicon requests and exit
if ( '/favicon.ico' == $_SERVER['REQUEST_URI'] ) {
	header( 'Content-Type: image/x-icon' );
	echo base64_decode( "AAABAAEAMDAAAAEAIACoJQAAFgAAACgAAAAwAAAAYAAAAAEAIAAAAAAAgCUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAJmZmV+ZmZkvAGaZXwBmmb8AZpm/AGaZvwBmmb8AZpm/AGaZvwBmmb8AZpm/AGaZvwBmmb8AZpm/AGaZvwBmmb8AZpm/AGaZvwBmmb8AZpm/AGaZvwBmmb8AZpm/AGaZvwBmmb8AZpm/AGaZvwBmmb8AZpm/AGaZvwBmmb8AZpm/AGaZvwBmmb8AZpm/AGaZvwBmmb8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAmZmZX5mZmf+ZmZk/AGaZfwBmmf8AZpn/AGaZ/wBmmf8AZpn/AGaZ/wBmmf8AZpn/AGaZ/wBmmf8AZpn/AGaZ/wBmmf8AZpn/AGaZ/wBmmf8AZpn/AGaZ/wBmmf8AZpn/AGaZ/wBmmf8AZpn/AGaZ/wBmmf8AZpn/AGaZ/wBmmf8AZpn/AGaZ/wBmmf8AZpn/AGaZ/wBmmf8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACZmZlfmZmZ/5mZmf+ZmZk/AGaZfwBmmf8AZpn/AGaZ/wBmmf8AZpn/AGaZ/wBmmf8AZpn/AGaZ/wBmmf8AZpn/AGaZ/wBmmf8AZpn/AGaZ/wBmmf8AZpn/AGaZ/wBmmf8AZpn/AGaZ/wBmmf8AZpn/AGaZ/wBmmf8AZpn/AGaZ/wBmmf8AZpn/AGaZ/wBmmf8AZpn/AGaZ/wBmmf8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAJmZmV+ZmZn/mZmZ/5mZmf+ZmZk/AGaZfwBmmf8AZpn/AGaZ/wBmmf8AZpn/AGaZ/wBmmf8AZpn/AGaZ/wBmmf8AZpn/AGaZ/wBmmf8AZpn/AGaZ/wBmmf8AZpn/AGaZ/wBmmf8AZpn/AGaZ/wBmmf8AZpn/AGaZ/wBmmf8AZpn/AGaZ/wBmmf8AZpn/AGaZ/wBmmf8AZpn/AGaZ/wBmmf8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAmZmZX5mZmf+ZmZn/mZmZ/5mZmf+ZmZk/AGaZfwBmmf8AZpn/AGaZ/wBmmf8AZpn/AGaZ/wBmmf8AZpn/AGaZ/wBmmf8AZpn/AGaZ/wBmmf8AZpn/AGaZ/wBmmf8AZpn/AGaZ/wBmmf8AZpn/AGaZ/wBmmf8AZpn/AGaZ/wBmmf8AZpn/AGaZ/wBmmf8AZpn/AGaZ/wBmmf8AZpn/AGaZ/wBmmf8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACZmZlfmZmZ/5mZmf+ZmZn/mZmZ/5mZmf+ZmZk/AGaZfwBmmf8AZpn/AGaZ/wBmmf8AZpn/AGaZ/wBmmf8AZpn/AGaZ/wBmmf8AZpn/AGaZ/wBmmf8AZpn/AGaZ/wBmmf8AZpn/AGaZ/wBmmf8AZpn/AGaZ/wBmmf8AZpn/AGaZ/wBmmf8AZpn/AGaZ/wBmmf8AZpn/AGaZ/wBmmf8AZpn/AGaZ/wBmmf8AAAAAAAAAAAAAAAAAAAAAAAAAAJmZmV+ZmZn/mZmZ/5mZmf+ZmZn/mZmZ/5mZmf+ZmZk/AGaZfwBmmf8AZpn/AGaZ/wBmmf8AZpn/AGaZ/wBmmf8AZpn/AGaZ/wBmmf8AZpn/AGaZ/wBmmf8AZpn/AGaZ/wBmmf8AZpn/AGaZ/wBmmf8AZpn/AGaZ/wBmmf8AZpn/AGaZ/wBmmf8AZpn/AGaZ/wBmmf8AZpn/AGaZ/wBmmf8AZpn/AGaZ/wBmmf8AAAAAAAAAAAAAAAAAAAAAmZmZX5mZmf+ZmZn/mZmZ/5mZmf+ZmZn/mZmZ/5mZmf+ZmZk/AGaZfwBmmf8AZpn/AGaZ/wBmmf8AZpn/AGaZ/wBmmf8AZpn/AGaZ/wBmmf8AZpn/AGaZ/wBmmf8AZpn/AGaZ/wBmmf8AZpn/AGaZ/wBmmf8AZpn/AGaZ/wBmmf8AZpn/AGaZ/wBmmf8AZpn/AGaZ/wBmmf8AZpn/AGaZ/wBmmf8AZpn/AGaZ/wBmmf8AAAAAAAAAAAAAAACZmZlfmZmZ/5mZmf+ZmZn/mZmZ/5mZmf+ZmZn/mZmZ/5mZmf+ZmZk/AGaZfwBmmf8AZpn/AGaZ/wBmmf8AZpn/AGaZ/wBmmf8AZpn/AGaZ/wBmmf8AZpn/AGaZ/wBmmf8AZpn/AGaZ/wBmmf8AZpn/AGaZ/wBmmf8AZpn/AGaZ/wBmmf8AZpn/AGaZ/wBmmf8AZpn/AGaZ/wBmmf8AZpn/AGaZ/wBmmf8AZpn/AGaZ/wBmmf8AAAAAAAAAAJmZmV+ZmZn/mZmZ/5mZmf+ZmZn/mZmZ/5mZmf+ZmZn/mZmZ/5mZmf+ZmZk/AGaZfwBmmf8AZpn/AGaZ/wBmmf8AZpn/AGaZ/wBmmf8AZpn/AGaZ/wBmmf8AZpn/AGaZ/wBmmf8AZpn/AGaZ/wBmmf8AZpn/AGaZ/wBmmf8AZpn/AGaZ/wBmmf8AZpn/AGaZ/wBmmf8AZpn/AGaZ/wBmmf8AZpn/AGaZ/wBmmf8AZpn/AGaZ/wBmmf8AAAAAmZmZX5mZmf+ZmZn/mZmZ/5mZmf+ZmZn/mZmZ/5mZmf+ZmZn/mZmZ/5mZmf+ZmZk/AGaZfwBmmf8AZpn/AGaZ/wBmmf8AZpn/AGaZ/wBmmf8AZpn/AGaZ/wBmmf8AZpn/AGaZ/wBmmf8AZpn/AGaZ/wBmmf8AZpn/AGaZ/wBmmf8AZpn/AGaZ/wBmmf8AZpn/AGaZ/wBmmf8AZpn/AGaZ/wBmmf8AZpn/AGaZ/wBmmf8AZpn/AGaZ/wBmmf+ZmZlfmZmZ/5mZmf+ZmZn/mZmZ/5mZmf+ZmZn/mZmZ/5mZmf+ZmZn/mZmZ/5mZmf+ZmZk/AGaZfwBmmf8AZpn/AGaZ/wBmmf8AZpn/AGaZ/wBmmf8AZpn/AGaZ/wBmmf8AZpn/AGaZ/wBmmf8AZpn/AGaZ/wBmmf8AZpn/AGaZ/wBmmf8AZpn/AGaZ/wBmmf8AZpn/AGaZ/wBmmf8AZpn/AGaZ/wBmmf8AZpn/AGaZ/wBmmf8AZpn/AGaZ/wBmmf+ZmZk/mZmZP5mZmT+ZmZk/mZmZP5mZmT+ZmZk/mZmZP5mZmT+ZmZk/mZmZP5mZmT+ZmZkPAGaZHwBmmT8AZpk/AGaZPwBmmT8AZpk/AGaZPwBmmT8AZpk/AGaZPwBmmT8AZpk/AGaZPwBmmT8AZpk/AGaZPwBmmT8AZpk/AGaZPwBmmT8AZpk/AGaZPwBmmT8AZpk/AGaZPwBmmT8AZpk/AGaZPwBmmT8AZpk/AGaZPwBmmT8AZpk/AGaZPwBmmT8AmTM/AJkzPwCZMz8AmTM/AJkzPwCZMz8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAM8yZHzPMmT8zzJk/M8yZPzPMmT8zzJk/M8yZPzPMmT8AmTP/AJkz/wCZM/8AmTP/AJkz/wCZM/8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAM8yZfzPMmf8zzJn/M8yZ/zPMmf8zzJn/M8yZ/zPMmf8AmTP/AJkz/wCZM/8AmTP/AJkz/wCZM/8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAM8yZfzPMmf8zzJn/M8yZ/zPMmf8zzJn/M8yZ/zPMmf8AmTP/AJkz/wCZM/8AmTP/AJkz/wCZM/8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIt0vACLdPwAi3T8AIt0/ACLdDwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAM8yZfzPMmf8zzJn/M8yZ/zPMmf8zzJn/M8yZ/zPMmf8AmTP/AJkz/wCZM/8AmTP/AJkz/wCZM/8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACLdTwAi3d8AIt3/ACLd/wAi3f8AIt3/ACLd/wAi3Z8AIt0PAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAM8yZfzPMmf8zzJn/M8yZ/zPMmf8zzJn/M8yZ/zPMmf8AmTP/AJkz/wCZM/8AmTP/AJkz/wCZM/8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIt2fACLd/wAi3f8AIt3/ACLd/wAi3f8AIt3/ACLd/wAi3f8AIt3fACLdLwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAM8yZfzPMmf8zzJn/M8yZ/zPMmf8zzJn/M8yZ/zPMmf8AmTP/AJkz/wCZM/8AmTP/AJkz/wCZM/8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAi3V8AIt3/ACLd/wAi3f8AIt3/ACLd/wAi3f8AIt3/ACLd/wAi3f8AIt3/ACLdzwAi3Q8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAM8yZfzPMmf8zzJn/M8yZ/zPMmf8zzJn/M8yZ/zPMmf8AmTP/AJkz/wCZM/8AmTP/AJkz/wCZM/8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACLdDwAi3e8AIt3/ACLd/wAi3f8AIt3/ACLd/wAi3f8AIt3/ACLd/wAi3f8AIt3/ACLd/wAi3X8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAM8yZfzPMmf8zzJn/M8yZ/zPMmf8zzJn/M8yZ/zPMmf8AmTP/AJkz/wCZM/8AmTP/AJkz/wCZM/8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACLdXwAi3f8AIt3/ACLd/wAi3f8AIt3/ACLd/wAi3f8AIt3/ACLd/wAi3f8AIt3/ACLd/wAi3d8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAM8yZfzPMmf8zzJn/M8yZ/zPMmf8zzJn/M8yZ/zPMmf8AmTP/AJkz/wCZM/8AmTP/AJkz/wCZM/8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACLdfwAi3f8AIt3/ACLd/wAi3f8AIt3/ACLd/wAi3f8AIt3/ACLd/wAi3f8AIt3/ACLd/wAi3f8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAM8yZfzPMmf8zzJn/M8yZ/zPMmf8zzJn/M8yZ/zPMmf8AmTP/AJkz/wCZM/8AmTP/AJkz/wCZM/8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACLdrwAi3f8AIt3/ACLd/wAi3f8AIt3/ACLd/wAi3f8AIt3/ACLd/wAi3f8AIt3/ACLd/wAi3f8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAM8yZfzPMmf8zzJn/M8yZ/zPMmf8zzJn/M8yZ/zPMmf8AmTP/AJkz/wCZM/8AmTP/AJkz/wCZM/8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACLdfwAi3f8AIt3/ACLd/wAi3f8AIt3/ACLd/wAi3f8AIt3/ACLd/wAi3f8AIt3/ACLd/wAi3f8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAM8yZfzPMmf8zzJn/M8yZ/zPMmf8zzJn/M8yZ/zPMmf8AmTP/AJkz/wCZM/8AmTP/AJkz/wCZM/8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACLdXwAi3f8AIt3/ACLd/wAi3f8AIt3/ACLd/wAi3f8AIt3/ACLd/wAi3f8AIt3/ACLd/wAi3d8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAM8yZfzPMmf8zzJn/M8yZ/zPMmf8zzJn/M8yZ/zPMmf8AmTP/AJkz/wCZM/8AmTP/AJkz/wCZM/8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACLdDwAi3e8AIt3/ACLd/wAi3f8AIt3/ACLd/wAi3f8AIt3/ACLd/wAi3f8AIt3/ACLd/wAi3X8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAM8yZfzPMmf8zzJn/M8yZ/zPMmf8zzJn/M8yZ/zPMmf8AmTP/AJkz/wCZM/8AmTP/AJkz/wCZM/8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAi3W8AIt3/ACLd/wAi3f8AIt3/ACLd/wAi3f8AIt3/ACLd/wAi3f8AIt3/ACLdzwAi3Q8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAM8yZfzPMmf8zzJn/M8yZ/zPMmf8zzJn/M8yZ/zPMmf8AmTP/AJkz/wCZM/8AmTP/AJkz/wCZM/8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIt2PACLd/wAi3f8AIt3/ACLd/wAi3f8AIt3/ACLd/wAi3f8AIt3vACLdLwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAM8yZfzPMmf8zzJn/M8yZ/zPMmf8zzJn/M8yZ/zPMmf8AmTP/AJkz/wCZM/8AmTP/AJkz/wCZM/8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACLdTwAi3d8AIt3/ACLd/wAi3f8AIt3/ACLd/wAi3Z8AIt0PAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAM8yZfzPMmf8zzJn/M8yZ/zPMmf8zzJn/M8yZ/zPMmf8AmTP/AJkz/wCZM/8AmTP/AJkz/wCZM/8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIt0vACLdPwAi3T8AIt0/ACLdDwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAM8yZfzPMmf8zzJn/M8yZ/zPMmf8zzJn/M8yZ/zPMmf8AmTP/AJkz/wCZM/8AmTP/AJkz/wCZM/8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAM8yZfzPMmf8zzJn/M8yZ/zPMmf8zzJn/M8yZ/zPMmf8AmTP/AJkz/wCZM/8AmTP/AJkz/wCZM/8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAM8yZfzPMmf8zzJn/M8yZ/zPMmf8zzJn/M8yZ/zPMmf8AmTP/AJkz/wCZM/8AmTP/AJkz/wCZM/8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAM8yZfzPMmf8zzJn/M8yZ/zPMmf8zzJn/M8yZ/zPMmf8AmTP/AJkz/wCZM/8AmTP/AJkz/wCZM/8AAAAAzJkAH8yZAD/MmQA/zJkAP8yZAD/MmQA/zJkAP8yZAD/MmQA/zJkAP8yZAD/MmQA/zJkAP8yZAD/MmQA/zJkAP8yZAD/MmQA/zJkAP8yZAD/MmQA/zJkAP8yZAD/MmQA/zJkAP8yZAD/MmQA/zJkAP8yZAD/MmQA/zJkAP8yZAD8AAAAAM8yZXzPMmb8zzJm/M8yZvzPMmb8zzJm/M8yZvzPMmb8AmTP/AJkz/wCZM/8AmTP/AJkz/wCZM/8AAAAAzJkAf8yZAP/MmQD/zJkA/8yZAP/MmQD/zJkA/8yZAP/MmQD/zJkA/8yZAP/MmQD/zJkA/8yZAP/MmQD/zJkA/8yZAP/MmQD/zJkA/8yZAP/MmQD/zJkA/8yZAP/MmQD/zJkA/8yZAP/MmQD/zJkA/8yZAP/MmQD/zJkA/8yZAP8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAmTP/AJkz/wCZM/8AmTP/AJkz/wCZM/8AAAAAzJkAf8yZAP/MmQD/zJkA/8yZAP/MmQD/zJkA/8yZAP/MmQD/zJkA/8yZAP/MmQD/zJkA/8yZAP/MmQD/zJkA/8yZAP/MmQD/zJkA/8yZAP/MmQD/zJkA/8yZAP/MmQD/zJkA/8yZAP/MmQD/zJkA/8yZAP/MmQD/zJkA/8yZAP8AAAAAAJn/XwCZ/78Amf+/AJn/vwCZ/78Amf+/AJn/vwCZ/48AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAzJkAf8yZAP/MmQD/zJkA/8yZAP/MmQD/zJkA/8yZAP/MmQD/zJkA/8yZAP/MmQD/zJkA/8yZAP/MmQD/zJkA/8yZAP/MmQD/zJkA/8yZAP/MmQD/zJkA/8yZAP/MmQD/zJkA/8yZAP/MmQD/zJkA/8yZAP/MmQD/zJkA/8yZAP8AAAAAAJn/fwCZ//8Amf//AJn//wCZ//8Amf//AJn/7wCZ/y8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAzJkAf8yZAP/MmQD/zJkA/8yZAP/MmQD/zJkA/8yZAP/MmQD/zJkA/8yZAP/MmQD/zJkA/8yZAP/MmQD/zJkA/8yZAP/MmQD/zJkA/8yZAP/MmQD/zJkA/8yZAP/MmQD/zJkA/8yZAP/MmQD/zJkA/8yZAP/MmQD/zJkA/8yZAP8AAAAAAJn/fwCZ//8Amf//AJn//wCZ//8Amf/vAJn/LwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAzJkAf8yZAP/MmQD/zJkA/8yZAP/MmQD/zJkA/8yZAP/MmQD/zJkA/8yZAP/MmQD/zJkA/8yZAP/MmQD/zJkA/8yZAP/MmQD/zJkA/8yZAP/MmQD/zJkA/8yZAP/MmQD/zJkA/8yZAP/MmQD/zJkA/8yZAP/MmQD/zJkA/8yZAP8AAAAAAJn/fwCZ//8Amf//AJn//wCZ/+8Amf8vAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAzJkAf8yZAP/MmQD/zJkA/8yZAP/MmQD/zJkA/8yZAP/MmQD/zJkA/8yZAP/MmQD/zJkA/8yZAP/MmQD/zJkA/8yZAP/MmQD/zJkA/8yZAP/MmQD/zJkA/8yZAP/MmQD/zJkA/8yZAP/MmQD/zJkA/8yZAP/MmQD/zJkA/8yZAP8AAAAAAJn/fwCZ//8Amf//AJn/7wCZ/y8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAzJkAf8yZAP/MmQD/zJkA/8yZAP/MmQD/zJkA/8yZAP/MmQD/zJkA/8yZAP/MmQD/zJkA/8yZAP/MmQD/zJkA/8yZAP/MmQD/zJkA/8yZAP/MmQD/zJkA/8yZAP/MmQD/zJkA/8yZAP/MmQD/zJkA/8yZAP/MmQD/zJkA/8yZAP8AAAAAAJn/fwCZ//8Amf/vAJn/LwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAzJkAf8yZAP/MmQD/zJkA/8yZAP/MmQD/zJkA/8yZAP/MmQD/zJkA/8yZAP/MmQD/zJkA/8yZAP/MmQD/zJkA/8yZAP/MmQD/zJkA/8yZAP/MmQD/zJkA/8yZAP/MmQD/zJkA/8yZAP/MmQD/zJkA/8yZAP/MmQD/zJkA/8yZAP8AAAAAAJn/fwCZ/+8Amf8vAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAzJkAX8yZAL/MmQC/zJkAv8yZAL/MmQC/zJkAv8yZAL/MmQC/zJkAv8yZAL/MmQC/zJkAv8yZAL/MmQC/zJkAv8yZAL/MmQC/zJkAv8yZAL/MmQC/zJkAv8yZAL/MmQC/zJkAv8yZAL/MmQC/zJkAv8yZAL/MmQC/zJkAv8yZAL8AAAAAAJn/XwCZ/y8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD///////8AAP///////wAA/+AAAAAAAAD/wAAAAAAAAP+AAAAAAAAA/wAAAAAAAAD+AAAAAAAAAPwAAAAAAAAA+AAAAAAAAADwAAAAAAAAAOAAAAAAAAAAwAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD/////wAAAAP/////AAAAA/////8AAAAD//g//wAAAAP/4A//AAAAA//AB/8AAAAD/4AD/wAAAAP/AAP/AAAAA/8AA/8AAAAD/wAD/wAAAAP/AAP/AAAAA/8AA/8AAAAD/wAD/wAAAAP/AAP/AAAAA/+AA/8AAAAD/8AH/wAAAAP/4A//AAAAA//4P/8AAAAD/////wAAAAP/////AAAAA/////8AAAACAAAAAQAAAAIAAAAB/wAAAgAAAAEAAAD+AAAAAQAAAP4AAAABAQAA/gAAAAEDAAD+AAAAAQcAAP4AAAABDwAA/gAAAAEfAAD+AAAAAT8AAP///////wAA////////AAA=" );
	exit;
}

// Handle inexistent root robots.txt requests and exit
if ( '/robots.txt' == $_SERVER['REQUEST_URI'] ) {
	header( 'Content-Type: text/plain; charset=UTF-8' );
	echo "User-agent: *\n";
	echo "Disallow: /admin/\n";
	echo "Disallow: /includes/\n";
	echo "Disallow: /long/link/\n";
	echo "Disallow: /long/data/\n";
	echo "Disallow: /user/\n";
	echo "Allow: /\n";
	echo "Noindex: /css/\n";
	echo "Noindex: /images/\n";
	echo "Noindex: /js/\n";
	echo "Noindex: /media/\n";
	exit;
}

// Start YOURLS
require_once( dirname( __FILE__ ) . '/includes/load-yourls.php' );

// Get request in YOURLS base (eg in 'http://sho.rt/yourls/abcd' get 'abdc')
$request = yourls_get_request();

// Make valid regexp pattern from authorized charset in keywords
$pattern = yourls_make_regexp_pattern( yourls_get_shorturl_charset() );

// Now load required template and exit

yourls_do_action( 'pre_load_template', $request );

// At this point, $request is not sanitized. Sanitize in loaded template.

// Redirection:
if( preg_match( "@^([$pattern]+)\*$@", $request, $matches ) ) {
	$keyword = isset( $matches[1] ) ? $matches[1] : '';
	$keyword = yourls_sanitize_keyword( $keyword );
	yourls_do_action( 'load_template_go', $keyword );
	require_once( YOURLS_ABSPATH.'/yourls-go.php' );
	exit;
}

// Stats:
if( preg_match( "@^([$pattern]+)\+(all)?/?$@", $request, $matches ) ) {
	$keyword = isset( $matches[1] ) ? $matches[1] : '';
	$keyword = yourls_sanitize_keyword( $keyword );
	$aggregate = isset( $matches[2] ) ? (bool)$matches[2] && yourls_allow_duplicate_longurls() : false;
	yourls_do_action( 'load_template_infos', $keyword );
	require_once( YOURLS_ABSPATH.'/yourls-infos.php' );
	exit;
}

// Prefix-n-Shorten sends to bookmarklet (doesn't work on Windows)
if( preg_match( "@^[a-zA-Z]+://.+@", $request, $matches ) ) {
	$url = yourls_sanitize_url( $matches[0] );
	if( $parse = yourls_get_protocol_slashes_and_rest( $url, array( 'up', 'us', 'ur' ) ) ) {
		yourls_do_action( 'load_template_redirect_admin', $url );
		$parse = array_map( 'rawurlencode', $parse );
		// Redirect to /admin/index.php?up=<url protocol>&us=<url slashes>&ur=<url rest>
		yourls_redirect( yourls_add_query_arg( $parse , yourls_admin_url( 'index.php' ) ), 302 );
		exit;
	}
}

// Past this point this is a request the loader could not understand
yourls_do_action( 'loader_failed', $request );
yourls_redirect( YOURLS_SITE, 302 );
exit;
